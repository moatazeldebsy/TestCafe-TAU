"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const os_family_1 = __importDefault(require("os-family"));
const os_1 = require("os");
const exec_1 = require("../utils/exec");
const binaries_1 = __importDefault(require("../binaries"));
async function default_1(windowDescription) {
    var res = null;
    var windowParams = [];
    var getWindowSizeArgs = void 0;
    if (os_family_1.default.win)
        getWindowSizeArgs = [windowDescription.hwnd];
    else if (os_family_1.default.mac)
        getWindowSizeArgs = [windowDescription.processId, windowDescription.windowId];
    else if (os_family_1.default.linux)
        getWindowSizeArgs = [windowDescription.windowId];
    else
        return null;
    try {
        res = await exec_1.execFile(binaries_1.default.getWindowSize, getWindowSizeArgs);
    }
    catch (err) {
        return null;
    }
    windowParams = res.split(os_1.EOL);
    return { width: Number(windowParams[0]), height: Number(windowParams[1]) };
}
exports.default = default_1;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LXdpbmRvdy1zaXplLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2FwaS9nZXQtd2luZG93LXNpemUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSwwREFBMkI7QUFDM0IsMkJBQXlCO0FBQ3pCLHdDQUF5QztBQUN6QywyREFBbUM7QUFHcEIsS0FBSyxvQkFBVyxpQkFBaUI7SUFDNUMsSUFBSSxHQUFHLEdBQWlCLElBQUksQ0FBQztJQUM3QixJQUFJLFlBQVksR0FBUSxFQUFFLENBQUM7SUFFM0IsSUFBSSxpQkFBaUIsR0FBRyxLQUFLLENBQUMsQ0FBQztJQUUvQixJQUFJLG1CQUFFLENBQUMsR0FBRztRQUNOLGlCQUFpQixHQUFHLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDNUMsSUFBSSxtQkFBRSxDQUFDLEdBQUc7UUFDWCxpQkFBaUIsR0FBRyxDQUFDLGlCQUFpQixDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUM3RSxJQUFJLG1CQUFFLENBQUMsS0FBSztRQUNiLGlCQUFpQixHQUFHLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLENBQUM7O1FBRWpELE9BQU8sSUFBSSxDQUFDO0lBRWhCLElBQUk7UUFDQSxHQUFHLEdBQUcsTUFBTSxlQUFRLENBQUMsa0JBQVEsQ0FBQyxhQUFhLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztLQUNuRTtJQUNELE9BQU8sR0FBRyxFQUFFO1FBQ1IsT0FBTyxJQUFJLENBQUM7S0FDZjtJQUVELFlBQVksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLFFBQUcsQ0FBQyxDQUFDO0lBRTlCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUMvRSxDQUFDO0FBekJELDRCQXlCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBPUyBmcm9tICdvcy1mYW1pbHknO1xuaW1wb3J0IHsgRU9MIH0gZnJvbSAnb3MnO1xuaW1wb3J0IHsgZXhlY0ZpbGUgfSBmcm9tICcuLi91dGlscy9leGVjJztcbmltcG9ydCBCSU5BUklFUyBmcm9tICcuLi9iaW5hcmllcyc7XG5cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gKHdpbmRvd0Rlc2NyaXB0aW9uKSB7XG4gICAgdmFyIHJlcyAgICAgICAgICAgICAgID0gbnVsbDtcbiAgICB2YXIgd2luZG93UGFyYW1zICAgICAgPSBbXTtcblxuICAgIHZhciBnZXRXaW5kb3dTaXplQXJncyA9IHZvaWQgMDtcblxuICAgIGlmIChPUy53aW4pXG4gICAgICAgIGdldFdpbmRvd1NpemVBcmdzID0gW3dpbmRvd0Rlc2NyaXB0aW9uLmh3bmRdO1xuICAgIGVsc2UgaWYgKE9TLm1hYylcbiAgICAgICAgZ2V0V2luZG93U2l6ZUFyZ3MgPSBbd2luZG93RGVzY3JpcHRpb24ucHJvY2Vzc0lkLCB3aW5kb3dEZXNjcmlwdGlvbi53aW5kb3dJZF07XG4gICAgZWxzZSBpZiAoT1MubGludXgpXG4gICAgICAgIGdldFdpbmRvd1NpemVBcmdzID0gW3dpbmRvd0Rlc2NyaXB0aW9uLndpbmRvd0lkXTtcbiAgICBlbHNlXG4gICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgcmVzID0gYXdhaXQgZXhlY0ZpbGUoQklOQVJJRVMuZ2V0V2luZG93U2l6ZSwgZ2V0V2luZG93U2l6ZUFyZ3MpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHdpbmRvd1BhcmFtcyA9IHJlcy5zcGxpdChFT0wpO1xuXG4gICAgcmV0dXJuIHsgd2lkdGg6IE51bWJlcih3aW5kb3dQYXJhbXNbMF0pLCBoZWlnaHQ6IE51bWJlcih3aW5kb3dQYXJhbXNbMV0pIH07XG59XG4iXX0=